{% extends "base.html" %}

{% block "title" %}Exercises{% endblock %}

{% block "content" %}

{% load static %}

<div class="custom-titles-container">
    <h2>
        <strong class="custom-titles-heading">Exercises List</strong>
    </h2>
</div>
<br>

<div style="display: flex; justify-content: space-between;">
<form method="GET" action="{% url 'exercises' %}" class="search-form">
  <div class="search-input">
  <input type="text" name="query" placeholder="Enter exercise name" value="{{ request.GET.q }}" class="search-field">
      </div>
    <div>
    <button type="submit" class="search-button">Search</button>
</div>
</form>
  </div>

{% if exercises %}
<div class="row">
  {% for exercise_group in exercises %}
    <div class="col-md-4 d-flex align-items-stretch">
      <div class="card mb-4 shadow-sm">
        {% with exercise=exercise_group.0 %}
          {% if exercise.exercise_name.pic %}
            <img src="{{ exercise.exercise_name.pic.url }}" class="card-img-top" alt="...">
          {% else %}
            <img src="{% static 'img/no-image.png' %}" class="card-img-top">
          {% endif %}
          <div class="card-body">
            <h6 class="card-subtitle mb-2 text-muted">{{ exercise.exercise_name }}</h6>
          <a href="{% url 'exercise_workouts' exercise.exercise_name.id %}">View Details</a>
          </div>
        {% endwith %}
      </div>
    </div>
  {% endfor %}
</div>
{% else %}
<p>There is no history of exercises</p>
{% endif %}

<style>
    .custom-titles-container {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: calc(1vh - 1px);
        background-color: #F4F4F4;
    }

    .custom-titles-heading {
        text-align: center;
        font-family: Times New Roman, serif;
        font-size: 35px;
        color: #AB982D;
    }

    .search-form {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 10px;
  }

  .search-input {
    margin-right: 10px;
  }

  .search-field {
      padding: 3px 25px;
      border: 1px solid #657d86;
      border-radius: 2px;
    }

    .search-button {
      padding: 3px 6px;
      background-color: #DFDCDB;
      border: none;
      color: black;
      border-radius: 2px;
      cursor: pointer;
    }

</style>

{% endblock %}
