{% extends "base.html" %}

{% block "title" %}Exercise Workouts{% endblock %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

{% block "content" %}
{% load static %}


<div class="custom-titles-container">
    <h2>
        {% if exercise_name.pic %}
<img src="{{ exercise_name.pic.url }}" style="margin-bottom: 10px; max-width: 10%">
{% else %}
<img src="{% static 'img/no-image.png' %}" class="card-img-top" style="width:100px;height:100px;">
{% endif %}
        <strong class="custom-titles-heading">{{ exercise_name.name }} Information</strong>
    </h2>
</div>
<br>

<form method="GET" action="{% url 'exercise_workouts' exercise_name.id %}">
    <div class="search-container">
        <input type="text" name="search" placeholder="Enter date or title">
        <button type="submit">Search</button>
    </div>
</form>

<br>


<table class="table table-bordered table-striped" id="workout-table">
    <colgroup>
        <col style="width: 19%;">
        <col style="width: 15%;">
        <col style="width: 11%;">
        <col style="width: 9%;">
        <col style="width: 10%;">
        <col style="width: 11%;">
        <col style="width: 25%;">
    </colgroup>
    <thead class="table-dark">
    <tr>
        <th class="sortable" data-column="title">Workout Title<span class="sort-icon"></span></th>
        <th class="sortable" data-column="date">Workout Date<span class="sort-icon"></span></th>
        <th class="sortable" data-column="weight">Exercise Weight<span class="sort-icon"></span></th>
        <th class="sortable" data-column="set">Exercise Sets<span class="sort-icon"></span></th>
        <th class="sortable" data-column="rep">Exercise Reps<span class="sort-icon"></span></th>
        <th class="sortable" data-column="sum">Exercise Volume<span class="sort-icon"></span></th>
        <th>Notes</th>
    </tr>
    </thead>

     <tbody>
    {% for workout, info in workout_info.items %}
    {% for exercise in info.exercises %}
    <tr>
        <td><a href="{% url 'workout' workout.id %}">{{ workout.title }}</a></td>
        <td>{{ workout.date|date:'Y-m-d' }}</td>
        <td>{{ exercise.weight|stringformat:".2f"  }} kg</td>
        <td>{{ exercise.set }} sets</td>
        <td>{{ exercise.rep }} reps</td>
        <td>{{ exercise.sum|stringformat:".2f"  }} kg</td>
        <td>{{ exercise.notes }}</td>
    </tr>
    {% endfor %}
    {% empty %}
    <tr>
        <td colspan="7">No workouts found.</td>
    </tr>
    {% endfor %}

    </tbody>
</table>


<script src="{% static 'js/sort-table.js' %}"></script>

<style>
    .sort-icon {
  display: inline;
  width: 10px;
  height: 10px;
  margin-left: 5px;
  margin-bottom: -2px;
  border-top: 4px solid #fff;
  border-right: 4px solid transparent;
  border-left: 4px solid transparent;
  color: red;
}

    .custom-titles-container {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: calc(1vh - 1px);
        background-color: #F4F4F4;
    }

    .custom-titles-heading {
        text-align: center;
        font-family: Times New Roman, serif;
        font-size: 35px;
        color: #AB982D;
    }

</style>


{% endblock %}
